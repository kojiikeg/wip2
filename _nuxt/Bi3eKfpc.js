import{q as g,A as _,r as y,o as r,c as i,L as b,M as v,a,t as p,u as k,z as w,y as x,p as C,f as D,_ as L}from"./BgyJECtJ.js";const S=s=>(C("data-v-a1b827eb"),s=s(),D(),s),I={class:"main"},B=S(()=>a("h1",null,"お知らせ一覧",-1)),M=["onClick"],$=["innerHTML"],j={class:"date"},A=g({__name:"index",async setup(s){let t,o;const u=w().public.apiUrl,d=([t,o]=_(()=>fetch(u+"/notice")),t=await t,o(),t),l=([t,o]=_(()=>d.json()),t=await t,o(),t);l.forEach(e=>{e.content=e.content.slice(0,100),e.content.length===100&&(e.content+="...")});const f=y(l.filter(e=>e.visible));function h(e){const c={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("ja-JP",c)}const m=e=>{x().push(`/notices/${e}`)};return(e,c)=>(r(),i("div",I,[B,(r(!0),i(b,null,v(k(f),n=>(r(),i("div",{class:"list",key:n.id,style:{cursor:"pointer"},onClick:H=>m(n.id)},[a("h2",null,p(n.title),1),a("p",{innerHTML:e.$md.render(n.content)},null,8,$),a("p",j,p(h(n.createDate)),1)],8,M))),128))]))}}),R=L(A,[["__scopeId","data-v-a1b827eb"]]);export{R as default};
